{{- define "main" -}}
<!-- Hero Section - Brief Intro -->
<section class="hero-section">
    <!-- Subtle Background Version (Current) -->
    <div class="hero-background-subtle">
        <img src="/images/dog-hero.jpg" alt="" aria-hidden="true" loading="eager" decoding="async">
        <div class="hero-background-overlay"></div>
    </div>
    
    <!-- Small Accent Version (commented out - switch back if needed) -->
    <!--
    <div class="hero-accent-image">
        <img src="/images/dog-hero.jpg" alt="Family companion" loading="eager" decoding="async">
    </div>
    -->
    
    <div class="hero-content">
        <div class="hero-main">
            <div class="hero-title">
                <h1 class="title-main">
                    <span class="title-line" data-text="digital">digital</span>
                    <span class="title-line" data-text="dias">dias</span>
                </h1>
                <div class="title-subtitle">
                    <span class="subtitle-text">Software Architect â€¢ Developer â€¢ Photographer â€¢ Creator</span>
                    <div class="subtitle-line"></div>
                </div>
            </div>
            
            <div class="hero-description">
                <p class="description-main">
                    Building software since 1984. Sharing what I learn about architecture, Azure, and the tools that make development better.
                </p>
            </div>

            <div class="hero-actions">
                <a href="/blog/" class="cta-button primary" data-magnetic>
                    <span class="button-text">Read the blog</span>
                    <div class="button-arrow">
                        <svg viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17"/>
                        </svg>
                    </div>
                </a>
                <a href="/about/" class="cta-button secondary" data-magnetic>
                    <span class="button-text">About</span>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Blog Posts -->
{{- $blogSection := .Site.GetPage "section" "blog" -}}
{{- if $blogSection -}}
{{- $latestPosts := first 4 ($blogSection.Pages.ByDate.Reverse) -}}
{{- if gt (len $latestPosts) 0 -}}
<section class="featured-blog section-container" aria-labelledby="featured-posts">
    <div class="section-header">
        <h2 class="section-title" id="featured-posts">
            <span class="title-main">Latest posts</span>
        </h2>
        <p class="section-description">Recent thoughts on software architecture, development practices, and technology</p>
    </div>
    
    <div class="blog-grid">
        {{- range $latestPosts -}}
        <article class="blog-card">
            {{- if .Params.featuredImage -}}
            <div class="blog-card-image">
                <a href="{{ .RelPermalink }}">
                    <img 
                        src="{{ .Params.featuredImage | relURL }}" 
                        alt="{{ .Params.featuredAlt | default .Title }}"
                        loading="lazy"
                        decoding="async"
                    >
                </a>
            </div>
            {{- end -}}
            <div class="blog-card-content">
                <p class="blog-card-meta">{{ .Date.Format "Jan 2, 2006" }}{{ with .Params.readTime }} Â· {{ . }}{{ end }}</p>
                <h3 class="blog-card-title">
                    <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                </h3>
                {{- if .Params.excerpt -}}
                <p class="blog-card-excerpt">{{ .Params.excerpt }}</p>
                {{- else if .Description -}}
                <p class="blog-card-excerpt">{{ .Description }}</p>
                {{- else -}}
                <p class="blog-card-excerpt">{{ .Summary }}</p>
                {{- end -}}
                <div class="blog-card-categories">
                    {{- range .Params.categories -}}
                    <a href="{{ "/categories/" | relURL }}{{ . | urlize }}" class="category-badge-small">{{ . }}</a>
                    {{- end -}}
                </div>
                <div class="blog-card-footer">
                    <a class="blog-card-link" href="{{ .RelPermalink }}">Read more â†’</a>
                    <div class="blog-card-tags">
                        {{- range first 2 .Params.tags -}}
                        <span class="tag-mini">#{{ . }}</span>
                        {{- end -}}
                    </div>
                </div>
            </div>
        </article>
        {{- end -}}
    </div>
    
    <div class="section-footer">
        <a href="/blog/" class="cta-button secondary" data-magnetic>
            <span class="button-text">View All Posts</span>
            <div class="button-arrow">
                <svg viewBox="0 0 24 24">
                    <path d="M7 17L17 7M17 7H7M17 7V17"/>
                </svg>
            </div>
        </a>
    </div>
</section>
{{- end -}}
{{- end -}}

<!-- Contact Section -->
<footer class="contact-section" id="contact">
    <div class="section-container">
        <div class="contact-header">
            <div class="section-badge">
                <span>ðŸ“¬</span>
                <span>Get in Touch</span>
            </div>
            <h2 class="section-title">
                <span class="title-accent">Let's</span>
                <span class="title-main">connect</span>
            </h2>
            <p class="section-description">
                Ready to collaborate or just want to say hello from Norway?
            </p>
        </div>
        
        <div class="contact-grid">
            <div class="contact-primary">
                <a href="mailto:{{ .Site.Params.email }}" class="contact-card primary" data-magnetic>
                    <div class="contact-glow"></div>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h3>Email</h3>
                        <p>{{ .Site.Params.email }}</p>
                        <span class="contact-label">Best way to reach me</span>
                    </div>
                    <div class="contact-arrow">
                        <svg viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17"/>
                        </svg>
                    </div>
                </a>
            </div>
            
            <div class="contact-social">
                <a href="{{ .Site.Params.social.linkedin }}" class="contact-card social linkedin" target="_blank" rel="noopener noreferrer" data-magnetic>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M16 8C18.21 8 20 9.79 20 12V20H16V12C16 11.45 15.55 11 15 11S14 11.45 14 12V20H10V8H14V9.5C14.64 8.64 15.75 8 17 8H16ZM4 6C4 7.1 4.9 8 6 8S8 7.1 8 6 7.1 4 6 4 4 4.9 4 6ZM4 10H8V20H4V10Z" />
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h4>LinkedIn</h4>
                        <p>Professional Network</p>
                    </div>
                </a>

                <a href="{{ .Site.Params.social.github }}" class="contact-card social github" target="_blank" rel="noopener noreferrer" data-magnetic>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 0.3C5.4 0.3 0 5.7 0 12.3C0 17.6 3.4 22.1 8.2 23.7C8.8 23.8 9 23.4 9 23.1V20.9C5.7 21.6 5 19.4 5 19.4C4.5 18.1 3.7 17.7 3.7 17.7C2.5 17 3.8 17 3.8 17C5.1 17.1 5.7 18.3 5.7 18.3C6.9 20.2 8.9 19.6 9 19.4C9.1 18.6 9.4 18 9.8 17.7C7.1 17.4 4.3 16.4 4.3 11.7C4.3 10.4 4.8 9.3 5.7 8.5C5.6 8.2 5.1 6.9 5.8 5.2C5.8 5.2 6.9 4.9 9 6.2C10.1 5.9 11.1 5.8 12 5.8C12.9 5.8 13.9 5.9 15 6.2C17.1 4.9 18.2 5.2 18.2 5.2C18.9 6.9 18.4 8.2 18.3 8.5C19.2 9.3 19.7 10.4 19.7 11.7C19.7 16.4 16.9 17.4 14.2 17.7C14.7 18.1 15 18.9 15 20V23.1C15 23.4 15.2 23.8 15.8 23.7C20.6 22.1 24 17.6 24 12.3C24 5.7 18.6 0.3 12 0.3Z" />
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h4>GitHub</h4>
                        <p>Code Repository</p>
                    </div>
                </a>

                <a href="{{ .Site.Params.social.youtube_digitaldias }}" class="contact-card social youtube" target="_blank" rel="noopener noreferrer" data-magnetic>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.5 6.2C23.3 5.4 22.7 4.8 21.9 4.6C20.1 4 12 4 12 4S3.9 4 2.1 4.6C1.3 4.8 0.7 5.4 0.5 6.2C0 8 0 12 0 12S0 16 0.5 17.8C0.7 18.6 1.3 19.2 2.1 19.4C3.9 20 12 20 12 20S20.1 20 21.9 19.4C22.7 19.2 23.3 18.6 23.5 17.8C24 16 24 12 24 12S24 8 23.5 6.2ZM9.5 15.5V8.5L15.8 12L9.5 15.5Z" />
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h4>YouTube</h4>
                        <p>Tech Insights</p>
                    </div>
                </a>

                <a href="{{ .Site.Params.social.flickr }}" class="contact-card social flickr" target="_blank" rel="noopener noreferrer" data-magnetic>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M0 12C0 14.5 2 16.5 4.5 16.5S9 14.5 9 12S7 7.5 4.5 7.5S0 9.5 0 12ZM15 12C15 14.5 17 16.5 19.5 16.5S24 14.5 24 12S22 7.5 19.5 7.5S15 9.5 15 12Z" />
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h4>Flickr</h4>
                        <p>{{ .Site.Params.stats.photos }} Photos</p>
                    </div>
                </a>

                <a href="{{ .Site.Params.social.facebook }}" class="contact-card social facebook" target="_blank" rel="noopener noreferrer" data-magnetic>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M24 12.1C24 5.4 18.6 0 12 0S0 5.4 0 12.1C0 18.1 4.4 23.1 10.1 24V15.6H7.1V12.1H10.1V9.4C10.1 6.4 11.9 4.8 14.7 4.8C16 4.8 17.4 5 17.4 5V7.9H15.8C14.3 7.9 13.9 8.8 13.9 9.7V12.1H17.2L16.7 15.6H13.9V24C19.6 23.1 24 18.1 24 12.1Z" />
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h4>Facebook</h4>
                        <p>Social Updates</p>
                    </div>
                </a>

                <a href="{{ .Site.Params.social.youtube_digitalhome }}" class="contact-card social youtube" target="_blank" rel="noopener noreferrer" data-magnetic>
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.5 6.2C23.3 5.4 22.7 4.8 21.9 4.6C20.1 4 12 4 12 4S3.9 4 2.1 4.6C1.3 4.8 0.7 5.4 0.5 6.2C0 8 0 12 0 12S0 16 0.5 17.8C0.7 18.6 1.3 19.2 2.1 19.4C3.9 20 12 20 12 20S20.1 20 21.9 19.4C22.7 19.2 23.3 18.6 23.5 17.8C24 16 24 12 24 12S24 8 23.5 6.2ZM9.5 15.5V8.5L15.8 12L9.5 15.5Z" />
                        </svg>
                    </div>
                    <div class="contact-content">
                        <h4>YouTube</h4>
                        <p>Family and Friends</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</footer>
{{- end -}}
